context("parseholes")

test_that("parsing holes works", {
  expect_equal(parseholes("1^1: 2^4: 3^1"), list(c(1, 1), c(2, 4), c(3, 1)))
  expect_equal(parseholes("1^2: 2^5"), list(c(1, 2), c(2, 5)))
  expect_equal(parseholes("2^3: 3^2"), list(c(2, 3), c(3, 2)))
  expect_equal(parseholes("1^2: 2^3: 4^1"), list(c(1, 2), c(2, 3), c(4, 1)))
  expect_equal(parseholes("1^3: 3^3"), list(c(1, 3), c(3, 3)))
  expect_equal(parseholes("1^4: 2^1: 3^2"), list(c(1, 4), c(2, 1), c(3, 2)))
  expect_equal(parseholes("1^5: 2^2: 3^1"), list(c(1, 5), c(2, 2), c(3, 1)))
  expect_equal(parseholes("1^6: 2^3"), list(c(1, 6), c(2, 3)))
  expect_equal(parseholes("2^1: 3^2: 4^1"), list(c(2, 1), c(3, 2), c(4, 1)))
  expect_equal(parseholes("1^8: 4^1"), list(c(1, 8), c(4, 1)))
  expect_equal(parseholes("1^1: 3^2: 5^1"), list(c(1, 1), c(3, 2), c(5, 1)))
  expect_equal(parseholes("2^2: 4^2"), list(c(2, 2), c(4, 2)))
  expect_equal(parseholes("2^2: 3^3"), list(c(2, 2), c(3, 3)))
  expect_equal(parseholes("2^1: 3^2: 5^1"), list(c(2, 1), c(3, 2), c(5, 1)))
  expect_equal(parseholes("1^2: 2^2: 3^1: 4^1"), list(c(1, 2), c(2, 2), c(3, 1), c(4, 1)))
  expect_equal(parseholes("1^3: 2^3: 4^1"), list(c(1, 3), c(2, 3), c(4, 1)))
  expect_equal(parseholes("1^4: 3^3"), list(c(1, 4), c(3, 3)))
  expect_equal(parseholes("1^5: 2^1: 3^2"), list(c(1, 5), c(2, 1), c(3, 2)))
  expect_equal(parseholes("3^3: 4^1"), list(c(3, 3), c(4, 1)))
})
